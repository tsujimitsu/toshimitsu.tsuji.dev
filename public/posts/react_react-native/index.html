<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.59.1" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="//fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<link rel="stylesheet" href="/css/normalize.css">
<link rel="stylesheet" href="/css/skeleton.css">
<link rel="stylesheet" href="/css/custom.css">
<link rel="alternate" href="/index.xml" type="application/rss+xml" title="tsuji.dev">
<title> - tsuji.dev</title>
</head>
<body>

<div class="container">

	<header role="banner">
		<div class="header-logo">
			<a href="/">tsuji.dev</a>
		</div>
		
	</header>

	<main role="main">
		<article itemscope itemtype="http://schema.org/BlogPosting">
			<h1 class="entry-title" itemprop="headline"></h1>
			<span class="entry-meta"><time itemprop="datePublished" datetime="0001-01-01">January 01, 0001</time></span>
			<section itemprop="entry-text">
				

<h1 id="react">React</h1>

<ul>
<li>React は React.js(ReactJS) と記載されることもある</li>
<li>JSX と呼ばれる記法を使う</li>
<li>React と React Native のコードをある程度共通化する方法

<ul>
<li><a href="https://qiita.com/tuttieee/items/7c66691fe6cc244053de#electron">https://qiita.com/tuttieee/items/7c66691fe6cc244053de#electron</a></li>
</ul></li>
<li>React を理解するためには webpack(バンドラ), babel(トランスパイラ) も理解する必要がある</li>
</ul>

<h2 id="create-dev-environment">Create dev environment</h2>

<ul>
<li><a href="https://vitalify.jp/app-lab/react-js-20170911/">https://vitalify.jp/app-lab/react-js-20170911/</a></li>
<li><a href="https://www.to-r.net/media/react-tutorial12/">create-react-app は簡単に環境を作成できる反面、デフォルトの設定を簡単にカスタマイズできない</a></li>

<li><p><a href="https://qiita.com/f_uto/items/1c49ab8edbcaf25b4315">create-react-app のボイラーテンプレートになっている registerServiceWorker とは</a></p>

<pre><code>$ export PATH=$PATH:./node_modules/.bin
$ npm i --save-dev create-react-app
$ create-react-app testapp
$ cd testapp
$ npm start
## ブラウザが開いて localhost:3000 でReactアプリが起動する

$ npm run build
$ ls -l build
</code></pre></li>
</ul>

<h2 id="develop">Develop</h2>

<pre><code>$ npm start
$ vi src/App.js
  -&gt; browser auto reload
</code></pre>

<h2 id="directory-structure">Directory structure</h2>

<ul>
<li><p>redux の導入を将来的に行うことを想定して、導入前から以下のような形になるようにしておく</p>

<ul>
<li><p><a href="https://webbibouroku.com/Blog/Article/react-redux-todo">https://webbibouroku.com/Blog/Article/react-redux-todo</a></p>

<pre><code>$ ls -1 src
App.css
App.js
App.test.js
actions/
components/
containers/
reducers/
index.css
index.js
registerServiceWorker.js
</code></pre></li>
</ul></li>
</ul>

<h2 id="react-router-の導入">react-router の導入</h2>

<ul>
<li><p><a href="http://cloudcafe.tech/?p=2211">React Router の使い方</a></p>

<pre><code>$ npm install --save react-router-dom
</code></pre></li>
</ul>

<h2 id="query-string-を処理する">query-string を処理する</h2>

<pre><code>$ npm install --save query-string
</code></pre>

<h2 id="redux-の導入">redux の導入</h2>

<ul>
<li><a href="https://webbibouroku.com/Blog/Article/react-redux-todo">https://webbibouroku.com/Blog/Article/react-redux-todo</a></li>
</ul>

<h2 id="react-native-firebase">React Native Firebase</h2>

<ul>
<li><a href="https://qiita.com/koki_cheese/items/e9f165563b3dadb0da03">https://qiita.com/koki_cheese/items/e9f165563b3dadb0da03</a></li>
<li><a href="https://qiita.com/shinnoki/items/599d1aec23f12f00317b">https://qiita.com/shinnoki/items/599d1aec23f12f00317b</a></li>
<li>Firebase のページで firestore を有効化（テストモード）</li>

<li><p>Project 作成，react-native-firebase のインストール</p>

<pre><code>react-native init firestoreapp
cd firestoreapp/
npm install --save react-native-firebase
</code></pre></li>

<li><p>package.json で&rdquo;babel-preset-react-native&rdquo;: &ldquo;4.0.0&rdquo;に書き換える(5.0.0 は動かない)</p></li>

<li><p>npm install</p></li>

<li><p>Firebase のページで iOS の追加</p>

<ul>
<li>iOS bundle ID: com.codelogue.firestoreapp</li>
<li>App nickname: <none></li>
<li>App Store ID: <none></li>
</ul></li>

<li><p>Download GoogleService-info.plist をダウンロード</p>

<ul>
<li>ios/firestoreapp/GoogleService-Info.plist に保存</li>
</ul></li>

<li><p>Xcode の Project 設定欄, General &gt; Identity &gt; Bundle Identifier に上記の IOS bundle ID を設定する</p></li>

<li><p>link</p>

<pre><code>react-native link
</code></pre></li>

<li><p>cocoapod インストールと設定</p>

<pre><code>sudo gem install cocoapods
cd ios
pod init
</code></pre>

<pre><code>vi Podfile

platform :ios, '9.0'

target 'firestoreapp' do
pod 'Firebase/Core'
pod 'Firebase/Firestore'
end
</code></pre>

<pre><code>pod install
</code></pre>

<pre><code>vi .gitignore
ios/Pods
</code></pre>

<pre><code>vi ios/{Project Name}/AppDelegate.m

#import &lt;Firebase.h&gt;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
[FIRApp configure];
</code></pre>

<pre><code>vi App.js

export default class App extends Component&lt;Props&gt; {
constructor() {
super();
this.ref = firebase.firestore().collection(&quot;messages&quot;);
this.ref.add([&quot;abc&quot;]);
}
</code></pre></li>

<li><p>Xcode の File &gt; Add File to <ProjectName> で GoogleService-Info.plist を追加する</p></li>

<li><p>ios/[YOUR APP NAME].xcproj の代わりに ios/[YOUR APP NAME].xcworkspace を使う</p></li>
</ul>

<h1 id="react-native">React Native</h1>

<h2 id="環境設定">環境設定</h2>

<ul>
<li>Install Xcode</li>
<li>Run Xcode and agree license</li>

<li><p>Install Homebrew</p>

<pre><code>$ /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
$ brew -v
</code></pre></li>

<li><p>Install Nodebrew</p>

<pre><code>$ brew install nodebrew
$ nodebrew -v
$ echo 'export PATH=$PATH:$HOME/.nodebrew/current/bin' &gt;&gt; ~/.bash_profile
</code></pre></li>

<li><p>Install Node.js</p>

<pre><code>$ mkdir -p ~/.nodebrew/src
$ nodebrew ls-remote
$ nodebrew install-binary v9.8.0
$ nodebrew ls
$ nodebrew use v9.8.0
$ nodebrew ls
$ node -v
v9.8.0
$ npm -v
5.6.0
</code></pre></li>

<li><p>Downgrade npm</p>

<pre><code>$ npm install -g npm@4.6.1
$ npm -v
</code></pre></li>

<li><p>Install watchman</p>

<pre><code>$ brew update
$ brew install watchman
</code></pre></li>

<li><p>Install React Native</p>

<pre><code>$ npm install -g create-react-native-app

※native コードを混ぜてアプリ開発する場合は上記の代わりに以下
$ npm install -g react-native-cli
</code></pre></li>

<li><p>Create Project</p>

<pre><code>$ create-react-native-app MyProject
$ cd MyProject
$ npm start
</code></pre></li>

<li><p>Install &ldquo;Expo Client&rdquo; on iPhone</p>

<ul>
<li>iPhone と開発機を同じ Wifi ネットワークに接続する</li>
<li>Expo Client で QR コードを読み取る</li>
<li>Got it ボタンを押す</li>
</ul></li>
</ul>

<h2 id="react-native-開発ライブラリ">React Native 開発ライブラリ</h2>

<ul>
<li>redux</li>
<li>react-native-router-flux

<ul>
<li>react-navigation</li>
</ul></li>
<li>redux-persist</li>
<li>react-native-config</li>
</ul>

<h2 id="開発環境">開発環境</h2>

<h3 id="prettier">Prettier</h3>

<ul>
<li><p>ライブラリインストール</p>

<pre><code>$ npm install -g eslint babel-eslint eslint-config-airbnb eslint-plugin-jsx-a11y eslint-plugin-react eslint-plugin-import prettier-eslint prettier-eslint-cli eslint-plugin-jest

##$ npm i --save-dev eslint babel-eslint eslint-config-airbnb eslint-plugin-jsx-a11y eslint-plugin-react eslint-plugin-import prettier-eslint prettier-eslint-cli eslint-plugin-jest
</code></pre></li>

<li><p>Prettier, eslint の拡張機能を導入</p></li>

<li><p>表示&gt;コマンドパレット&gt;user settings</p>

<pre><code>{
&quot;editor.formatOnSave&quot;: true,
&quot;javascript.format.enable&quot;: false,
&quot;prettier.eslintIntegration&quot;: true
}
</code></pre></li>
</ul>

<h2 id="tips">Tips</h2>

<h3 id="ナビゲーションメニューの作り方">ナビゲーションメニューの作り方</h3>

<ul>
<li><a href="http://facebook.github.io/react-native/docs/navigation.html">Navigating Between Screens</a></li>
<li><a href="https://bagelee.com/programming/react-native/react-navigation-react-native/">React Navigation を使ってみる【これからはじめる React Native】</a>

<ul>
<li>公式マニュアルのナビゲーション説明にも出てくることから react-navigation を使う</li>
</ul></li>
</ul>

<h3 id="react-コンポーネントを別ファイルで定義し-インポートする方法">React コンポーネントを別ファイルで定義し，インポートする方法</h3>

<ul>
<li><a href="https://qiita.com/HIGAX/items/28f3bec814928b7395da">【Q&amp;A】ReactJS の Component を import,export する</a></li>

<li><p><a href="https://loumo.jp/wp/archive/20170702120041/">React Native で WordPress リーダーアプリを作ってみた</a></p>

<pre><code># index.js

import HomeScreen from './screen/HomeScreen';

# ./screen/HomeScreen

import React, { Component } from 'react';

export default class HomeScreen extends Component {
render() {
return ();
}
}
</code></pre></li>
</ul>

<h3 id="camera-をコントロールする">Camera をコントロールする</h3>

<ul>
<li><a href="https://qiita.com/h-sakano/items/00250f55b2370b8c6f4c">react-native-camera を使用する</a></li>
</ul>

<h3 id="実機デプロイ時に-node-のパスエラーがでる">実機デプロイ時に node のパスエラーがでる</h3>

<ul>
<li><a href="https://qiita.com/mkazutaka/items/eca26d441461985d8397">React-Native を iOS 実機でビルドしたら，node binary が見つからないとエラーが出た件</a></li>
</ul>

<h3 id="xcode-からデプロイがうまくできない">xcode からデプロイがうまくできない</h3>

<ul>
<li>Project 設定を開く（左上のプロジェクト名を選択）

<ul>
<li>General &gt; Identity の Bundle Identifier を変更する</li>
<li>General &gt; Signing でアカウントを追加する</li>
<li>アカウントは Manage Certificates で iOS Deployment を作成しておく</li>
<li>General &gt; Deployment Info で Deployment Target を設定する（OS バージョン）</li>
</ul></li>
<li>上記と同じことを XXXTests に対しても行う</li>
</ul>

<h2 id="reference">Reference</h2>

<ul>
<li><a href="https://qiita.com/kyosuke5_20/items/c5f68fc9d89b84c0df09">Mac に Node.js をインストール</a></li>
<li><a href="https://qiita.com/yotsak83/items/ee1fd72a8ba25c6fe27e">ReactNative はじめの一歩</a></li>
<li><a href="http://blog.spacemarket.com/code/reactnative-beginner/">ReactNative 入門</a></li>
<li><a href="https://qiita.com/ozaki25/items/fde66fd971690767394a">VSCode で Prettier を入れる</a></li>

<li><p><a href="https://qiita.com/kiida/items/405bb07c4b52bfee0219">prettier の使い方</a></p>

<pre><code>
</code></pre></li>
</ul>

			</section>
		</article>
	</main>


	<footer role="contentinfo">
		<div class="hr"></div>
		<div class="footer-link">
			
			<a href="https://twitter.com/tsujimitsu" target="_blank">Twitter</a>
			<a href="https://www.facebook.com/tsujimitsu" target="_blank">Facebook</a>
			<a href="https://github.com/tsujimitsu/" target="_blank">GitHub</a>
			
		</div>
		<div class="copyright">Copyright &copy; tsujimitsu All rights reserved.</div>
	</footer>

</div>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
